<?xml version="1.0" encoding="UTF-8"?>
<odoo>
	<data>

		<!-- explicit list view definition -->
		<record model="ir.ui.view" id="petty_cash_request_list">
			<field name="name">petty cash request list</field>
			<field name="model">petty.cash.request</field>
			<field name="arch" type="xml">
				<list default_order="name desc">
					<field name="name" />
					<field name="request_amount" />
					<field name="payment_journal" />
					<field name="state" />
				</list>
			</field>
		</record>

		<!-- explicit form view definition -->
		<record model="ir.ui.view" id="petty_cash_request_form">
			<field name="name">petty cash request form</field>
			<field name="model">petty.cash.request</field>
			<field name="arch" type="xml">
				<form create="False" duplicate="False">
					<header>
						<button name="submit_for_approval" invisible="state != 'draft'" type="object" class="btn-primary" string="Submit For Approval" />
						<button name="action_approve" type="object" invisible="state != 'submit'" class="btn-primary" string="Approve" groups="sp_petty_cash_management.group_cash_request_approval" />
						<button name="reset_to_draft" type="object" invisible="state != 'submit'" class="btn-primary" string="Reset To Draft" />
						<button name="reset_to_submit" type="object" invisible="state != 'done'" class="btn-primary" string="Reset To Submit" groups="sp_petty_cash_management.group_cash_request_approval"/>
						<field name="state" widget="statusbar" statusbar_visible="draft,submit,done" nolabel="1" readonly="1" />
						<field name="is_editable" invisible="1"/>
					</header>
					<sheet>
						<div name="button_box" class="oe_button_box">
							<button name="action_open_journal_entry" class="oe_stat_button" icon="fa-money" type="object" invisible="state != 'done'" string="Journal Entry" />
						</div>
						<div class="oe_title">
							<h1>
								<field name="name" readonly="1" />
							</h1>
						</div>
						<group>
							<group>
								<field name="from_account" required="1" readonly="is_editable" />
								<field name="to_account" required="1" readonly="is_editable" />
								<field name="payment_journal" required="1" readonly="is_editable" />
								<field name="petty_cash_ref" readonly="is_editable"/>
							</group>
							<group>
								<field name="request_date" readonly="is_editable" />
								<field name="approve_date" readonly="is_editable" invisible="1"/>
								<field name="request_amount" required="1" readonly="is_editable" />
								<field name="user" readonly="1" options="{'no_open': True, 'no_create': True}" />
								<field name="company_id" readonly="1" options="{'no_open': True, 'no_create': True}" />
							</group>
						</group>
					</sheet>
					<chatter />
				</form>
			</field>
		</record>

		<!-- actions opening views on models -->
		<record model="ir.actions.act_window" id="petty_cash_request_action_window">
			<field name="name">Cash Request</field>
			<field name="res_model">petty.cash.request</field>
			<field name="view_mode">list,form</field>
		</record>
	
	</data>
</odoo>