<?xml version="1.0" encoding="utf-8"?>
<odoo>
	<data>
		
		<!-- Credit Limit Request -->

		<record id="tree_credit_limit_increase_view" model="ir.ui.view">
			<field name="name">credit.limit.increase.list</field>
			<field name="model">credit.limit.increase</field>
			<field name="arch" type="xml">
				<list default_order='create_date desc'>
					<field name="name"/>
					<field name="create_date" string="Request Date"/>
					<field name="partner_id"/>
					<field name="amount"/>
					<field name="user_id"/>
					<field name="note"/>
				</list>
			</field>
		</record>
		
		<record id="form_credit_limit_increase_view" model="ir.ui.view">
			<field name="name">credit.limit.increase.form</field>
			<field name="model">credit.limit.increase</field>
			<field name="arch" type="xml">
				<form>
					<header>
						<button name="action_submit" string="Submit" type="object" invisible="state != 'draft'"/>
						<button name="action_approve" string="Approve" type="object" invisible="state != 'submit'" groups="sp_sales_approval.group_sales_approval" class="btn btn-primary"/>
						<button name="action_reject" string="Reject" type="object" invisible="state != 'submit'" groups="sp_sales_approval.group_sales_approval"/>
						<field name="state" widget="statusbar"/>
					</header>
					<sheet>
						<div class="oe_title" colspan="4">
							<h1><field name="name" readonly="1"/></h1>
						</div>
						<group>
							<group>
								<field name="partner_id" required="1" readonly="state != 'draft'"/>
								<field name="user_id" readonly="1"/>
							</group>
							<group>
								<field name="amount" required="1" readonly="state != 'draft'"/>
								<field name="create_date" string="Request Date"/>
							</group>
						</group>
						<notebook>
							<page string="Note">
								<group>
									<field name="note" readonly="state != 'draft'" nolabel="1"/>
								</group>
							</page>
						</notebook>
					</sheet>
					<chatter/>
				</form>
			</field>
		</record>

		<record id="action_credit_limit_increase" model="ir.actions.act_window">
			<field name="name">Credit Limit Request</field>
			<field name="res_model">credit.limit.increase</field>
			<field name="view_mode">list,form</field>
		</record>

		<menuitem id="submenu_credit_limit_increase" name="Credit Limit Request" action="action_credit_limit_increase" parent="sp_sales_approval.menu_credit_request" sequence="1"/>

	</data>
</odoo>